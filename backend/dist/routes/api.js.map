{"version":3,"sources":["../../src/routes/api.js"],"names":["router","Router","get","req","res","next","scheduled_event","findAll","then","data","send","success","findOne","where","id","params","put","update","body","post","create","delete","destroy"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAIA,SAAS,kBAAQC,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,SAAX,EAAsB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC9C,kBAAOC,eAAP,CAAuBC,OAAvB,GACEC,IADF,CACO,UAASC,IAAT,EAAe;AACpBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,IADD;AAERF;AAFQ,GAAT;AAIA,EANF,EAMI,UAASA,IAAT,EAAe;AACjBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,KADD;AAERF;AAFQ,GAAT;AAIA,EAXF;AAYA,CAbD;;AAeA;AACAT,OAAOE,GAAP,CAAW,aAAX,EAA0B,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAClD,kBAAOC,eAAP,CAAuBM,OAAvB,CAA+B;AAC9BC,SAAO,EAACC,IAAIX,IAAIY,MAAJ,CAAWD,EAAhB;AADuB,EAA/B,EAEGN,IAFH,CAEQ,UAASC,IAAT,EAAe;AACtBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,IADD;AAERF;AAFQ,GAAT;AAIA,EAPD,EAOG,UAASA,IAAT,EAAe;AACjBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,KADD;AAERF;AAFQ,GAAT;AAIA,EAZD;AAaA,CAdD;;AAgBA;AACAT,OAAOgB,GAAP,CAAW,aAAX,EAA0B,UAASb,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAClD,kBAAOC,eAAP,CAAuBW,MAAvB,CAA8Bd,IAAIe,IAAlC,EAAwC;AACvCL,SAAO,EAACC,IAAIX,IAAIY,MAAJ,CAAWD,EAAhB;AADgC,EAAxC,EAEGN,IAFH,CAEQ,UAASC,IAAT,EAAe;AACtBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,IADD;AAERF;AAFQ,GAAT;AAIA,EAPD,EAOG,UAASA,IAAT,EAAe;AACjBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,KADD;AAERF;AAFQ,GAAT;AAIA,EAZD;AAaA,CAdD;;AAgBA;AACAT,OAAOmB,IAAP,CAAY,SAAZ,EAAuB,UAAShB,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/C,kBAAOC,eAAP,CAAuBc,MAAvB,CAA8BjB,IAAIe,IAAlC,EACEV,IADF,CACO,UAASC,IAAT,EAAe;AACpBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,IADD;AAERF;AAFQ,GAAT;AAIA,EANF,EAMI,UAASA,IAAT,EAAe;AACjBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,KADD;AAERF;AAFQ,GAAT;AAIA,EAXF;AAYA,CAbD;;AAeA;AACAT,OAAOqB,MAAP,CAAc,aAAd,EAA6B,UAASlB,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrD,kBAAOC,eAAP,CAAuBgB,OAAvB,CAA+B;AAC9BT,SAAO,EAACC,IAAIX,IAAIY,MAAJ,CAAWD,EAAhB;AADuB,EAA/B,EAEGN,IAFH,CAEQ,UAASC,IAAT,EAAe;AACtBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,IADD;AAERF;AAFQ,GAAT;AAIA,EAPD,EAOG,UAASA,IAAT,EAAe;AACjBL,MAAIM,IAAJ,CAAS;AACRC,YAAS,KADD;AAERF;AAFQ,GAAT;AAIA,EAZD;AAaA,CAdD;;kBAiBeT,M","file":"api.js","sourcesContent":["import models from '../models';\nimport express from 'express';\n\nlet router = express.Router();\n\n// GET all events\nrouter.get('/events', function(req, res, next) {\n\tmodels.scheduled_event.findAll()\n\t\t.then(function(data) {\n\t\t\tres.send({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata\n\t\t\t});\n\t\t}, function(data) {\n\t\t\tres.send({\n\t\t\t\tsuccess: false,\n\t\t\t\tdata\n\t\t\t});\n\t\t});\n});\n\n// GET one event/\nrouter.get('/events/:id', function(req, res, next) {\n\tmodels.scheduled_event.findOne({\n\t\twhere: {id: req.params.id}\n\t}).then(function(data) {\n\t\tres.send({\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t});\n\t}, function(data) {\n\t\tres.send({\n\t\t\tsuccess: false,\n\t\t\tdata\n\t\t});\n\t});\n});\n\n// PUT an update to one event\nrouter.put('/events/:id', function(req, res, next) {\n\tmodels.scheduled_event.update(req.body, {\n\t\twhere: {id: req.params.id}\n\t}).then(function(data) {\n\t\tres.send({\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t});\n\t}, function(data) {\n\t\tres.send({\n\t\t\tsuccess: false,\n\t\t\tdata\n\t\t});\n\t});\n});\n\n// POST a new event\nrouter.post('/events', function(req, res, next) {\n\tmodels.scheduled_event.create(req.body)\n\t\t.then(function(data) {\n\t\t\tres.send({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata\n\t\t\t});\n\t\t}, function(data) {\n\t\t\tres.send({\n\t\t\t\tsuccess: false,\n\t\t\t\tdata\n\t\t\t});\n\t\t});\n});\n\n// DELETE an event\nrouter.delete('/events/:id', function(req, res, next) {\n\tmodels.scheduled_event.destroy({\n\t\twhere: {id: req.params.id}\n\t}).then(function(data) {\n\t\tres.send({\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t});\n\t}, function(data) {\n\t\tres.send({\n\t\t\tsuccess: false,\n\t\t\tdata\n\t\t});\n\t});\n});\n\n\nexport default router;\n\n"]}